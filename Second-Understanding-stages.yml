
trigger:
- main

pool:
  vmImage: ubuntu-latest

stages:
- stage: Build
  jobs:
  - job: job1
    steps:
      - bash: echo $(PipelineVariable) Build job1
  - job: job2
    steps:
      - bash: echo $(PipelineVariable) Build job2
- stage: devDeploy
  variables:
    environment: dev
  dependsOn: Build
  jobs:
  - job: devDeployjob
    steps:
      - bash: echo $(PipelineVariable) DevDeploy job

- stage: qaDeploy
  variables:
    environment: Qa
  dependsOn: devDeploy
  jobs:
  - job: qaDeployjob
    steps:
      - bash: echo $(PipelineVariable) QaDeploy job

- stage: ProdDeploy
  variables:
    environment: Prod
  dependsOn: qaDeploy
  jobs:
  - job: ProdDeployjob
    steps:
      - bash: echo $(PipelineVariable) ProdDeploy job
